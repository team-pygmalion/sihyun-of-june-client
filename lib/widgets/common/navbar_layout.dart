import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:flutter_phosphor_icons/flutter_phosphor_icons.dart';
import 'package:flutter_svg/flutter_svg.dart';
import 'package:go_router/go_router.dart';
import 'package:project_june_client/constants.dart';

Widget getSettingIcon(bool isActivated) {
  final svgString = '''
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M11.2509 26.9494C10.6713 26.1325 9.95163 26.2878 9.20106 25.7063C8.04433 24.8022 8.01345 23.067 8.00395 22.476C7.9897 21.659 7.96832 20.3264 8.83765 19.5871C9.95163 18.6406 11.5597 19.5023 12.4029 18.4122C12.7283 17.9908 12.7639 17.4917 12.771 17.3598C12.8019 16.9431 12.6926 16.5852 11.9777 15.1302C11.4528 14.0636 11.4076 14.0518 11.4076 13.8729C11.3958 12.9405 12.505 12.2342 13.3886 11.6715C14.3244 11.0758 15.7282 10.1788 16.9562 10.6473C17.2459 10.758 17.5405 10.984 18.1319 11.4408C19.0796 12.1706 19.2102 12.5026 19.7185 12.6203C20.5119 12.8016 21.2624 12.2436 21.3337 12.1918C22.2149 11.5184 21.7826 10.725 22.7731 9.40887C23.032 9.06277 23.5331 8.41765 24.3906 8.13983C24.6756 8.048 24.9725 8.03859 25.5521 8.0221C27.0105 7.98208 27.7396 7.96089 28.4308 8.2858C28.7729 8.4459 29.3738 8.73079 29.7182 9.35236C30.3334 10.4637 29.5329 11.5655 30.312 12.5473C30.3928 12.6486 30.5472 12.8393 30.8132 12.9853C32.2098 13.7457 33.8867 11.7492 35.2358 12.4202C35.3237 12.4649 35.6396 12.8134 36.2643 13.5197C36.8961 14.2355 37.2168 14.6004 37.4329 15.0007C37.6562 15.4103 38.0006 16.0766 37.8605 16.8701C37.7797 17.3339 37.5636 17.6565 37.3522 17.9767C36.8059 18.8031 36.3451 18.869 36.1741 19.4506C36.136 19.5871 36.0743 19.9356 36.2928 20.6019C36.8486 22.3041 38.2856 22.2688 39.0671 23.7521C39.9198 25.3743 39.2215 27.3544 38.9174 28.2208C38.6989 28.8448 38.5421 29.0355 38.4424 29.132C37.6728 29.8831 36.5873 29.3251 35.6254 30.0761C35.5161 30.1609 35.0577 30.5188 34.9057 31.105C34.5993 32.2658 35.8486 32.885 35.7228 34.1281C35.6468 34.8886 35.1076 35.3878 34.395 36.0446C33.8416 36.5532 32.4378 37.8552 31.0412 37.5491C29.9914 37.3207 29.9106 36.3955 28.761 36.2636C28.6612 36.2518 27.7016 36.1577 27.0176 36.751C26.1364 37.5162 26.7231 38.5521 25.9891 39.4539C25.0865 40.5628 23.1127 40.3297 22.4572 40.252C22.0985 40.2096 19.5 39.9012 18.9703 38.3897C18.6164 37.3796 19.4406 36.5532 18.8587 35.7739C18.4383 35.2112 17.6402 35.157 17.5618 35.1523C16.4384 35.0887 16.1367 36.1482 14.8802 36.2942C14.0513 36.3907 13.3767 36.0211 12.9112 35.7668C11.7402 35.1264 11.2129 34.1258 10.9326 33.5748C10.5454 32.812 10.1416 32.0209 10.3008 31.0838C10.5336 29.7206 11.7402 29.3039 11.6832 28.0866C11.6594 27.5734 11.4195 27.1708 11.258 26.9424L11.2509 26.9494Z" fill="#${isActivated ? '101010' : "E1E1E1"}"/>
  <path d="M22.6263 19.2211C24.2352 18.8389 25.9899 19.1333 27.3682 20.0971C27.9633 20.5173 28.4996 21.0562 28.8265 21.7281C29.471 23.0266 29.2828 24.5887 29.05 26.0321C28.9982 26.355 28.9465 26.8464 28.6219 27.3212C28.4267 27.6061 28.2032 27.7913 27.9068 27.9954C27.4929 28.2779 26.8013 28.7432 25.7311 29.0305C24.5362 29.351 23.5319 29.2774 23.005 29.2038C22.2006 29.0922 21.5231 28.9901 20.8222 28.4963C19.9425 27.872 19.3827 26.8061 19.1734 25.7069C18.964 24.6077 19.0652 23.4658 19.291 22.3619C19.3851 21.8753 19.5121 21.3886 19.7732 20.9755C20.0013 20.6075 20.3306 20.3322 20.6881 20.0829C21.2809 19.6769 21.9395 19.3873 22.6263 19.2211Z" fill="white"/>
</svg>
''';
  return SvgPicture.string(svgString, width: 48, height: 48);
}

Widget getMailListIcon(bool isActivated) {
  final svgString = '''
<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_231_2091)">
<mask id="mask0_231_2091" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="48" height="48">
<path d="M0 0H48V47.5714L0 48V0Z" fill="white"/>
</mask>
  <g mask="url(#mask0_231_2091)">
    <path d="M11.7189 41.73C9.55674 37.5 7.24756 33.3386 6.58593 28.6457C6.3481 26.9571 6.22702 25.1357 7.04431 23.6271C7.65404 22.4957 8.72647 21.6686 9.88972 21.1071C11.053 20.5457 12.3113 20.2114 13.5524 19.8471C18.9535 18.2657 24.2984 15.96 29.9243 16.1014C30.1319 16.1014 30.3351 16.1143 30.5211 16.2086C30.7719 16.3371 30.9232 16.5943 31.053 16.8343C32.1513 18.8057 33.2454 20.8071 33.76 22.9929C34.413 25.8129 34.0324 28.8386 34.9751 31.5857C35.3859 32.79 36.0735 34.0286 35.8011 35.28C35.7578 35.4857 35.68 35.6871 35.5286 35.8286C35.3859 35.9571 35.1913 36.0129 34.9967 36.0643C33.2584 36.5057 31.4681 36.7414 29.7081 37.0671C23.6367 38.1857 18.6767 40.0071 12.5708 40.9757" fill="white"/>
    <path d="M35.3427 32.1471C34.9103 32.5885 33.1027 32.8585 32.4627 33.0428C31.4854 33.3214 30.7762 33.4885 29.8378 33.8614C27.6757 34.7185 24.8692 35.6957 22.9189 36.4328C18.8195 37.9843 15.4897 39.3428 11.3816 40.9157L13.4054 41.5757C11.2346 36.8057 9.08108 30.8614 7.78378 26.5757C6.63784 22.7914 7.00541 20.6057 6.0627 16.7614L4.04324 18.3985C8.45405 17.85 12.7784 16.9243 17.0378 15.6514C19.1005 15.0385 21.1459 14.3485 23.1741 13.6157C24.2508 13.23 25.3146 12.84 26.3784 12.4328C27.2562 12.0985 28.5968 11.25 29.5178 11.3443L28.3546 10.8685C28.9297 11.3657 29.2108 12.6343 29.4184 13.3243C29.7211 14.2928 29.9503 15.2828 30.2011 16.2728C30.733 18.4371 31.2778 20.6014 31.8097 22.7743C32.3416 24.9471 33.3189 26.2457 33.8508 28.4185C34.1103 29.4643 33.9286 29.64 34.1881 30.6857C34.3178 31.2043 34.4476 30.8743 34.5773 31.3885C34.6638 31.7314 34.7503 32.0785 34.8368 32.4343C34.9146 33.1114 35.0011 33.1243 35.1092 32.49C34.1405 34.3543 36.9903 36.0128 37.9546 34.1357C38.4865 33.1028 38.1492 32.1 37.8897 31.0457C37.587 29.8285 37.293 29.91 36.9859 28.6928C36.3459 26.1 35.7059 24.78 35.053 22.1828C34.4562 19.7614 33.8595 17.3271 33.2497 14.9057C32.7697 12.9985 32.3243 10.2557 30.9016 8.76854C29.2713 7.05854 26.3049 9.00426 24.5795 9.6514C22.4735 10.4357 20.3416 11.19 18.2011 11.88C13.5827 13.3671 9.46595 15.1157 4.74811 16.2857C3.01838 16.7143 1.72108 18 2.15351 20.1428C2.93622 24.0128 3.88324 26.1428 5.18054 30C6.87135 35.0271 9.21081 40.6328 10.3697 43.2857C10.6984 44.0357 11.6541 44.4771 12.5319 44.1428C16.9557 42.4543 22.0454 40.2857 25.0032 39.2357C27.7189 38.2714 30.2616 37.2857 32.4238 36.4285C33.5222 35.9914 34.1622 35.9785 35.2778 35.6357C36.147 35.3657 37.0162 35.1385 37.6778 34.4828C39.1654 32.9743 36.8303 30.66 35.3427 32.1685L35.3297 32.1471H35.3427Z" fill="#${isActivated ? "101010" : "E1E1E1"}"/>
    <path d="M21.1849 23.1771C24.1081 22.2943 26.9189 21.0685 29.7254 19.8514C30.4087 19.56 31.1179 19.2385 31.5719 18.6557C32.1471 17.9357 32.2249 16.9243 32.0519 16.0071C31.8789 15.09 31.4984 14.2414 31.2476 13.3457C30.9968 12.4628 30.8238 11.46 30.0757 10.9328C29.7298 10.6843 29.306 10.59 28.8822 10.5343C26.72 10.2771 24.6444 11.3314 22.6249 12.15C18.3006 13.9071 13.6519 14.7 9.16327 15.9728C7.88327 16.3371 6.61192 16.7357 5.42705 17.34C4.86057 17.6314 4.27678 18.0171 4.09949 18.6214C4.013 18.9214 4.04327 19.2343 4.07786 19.5471C4.25084 21.1071 4.54489 22.65 4.94705 24.1671C5.47462 26.16 5.91138 27.1971 6.54273 27.3428C6.91895 27.4285 8.333 26.7428 10.9968 25.7185C12.0649 25.3071 12.1644 25.3585 15.7752 24.5228C17.5914 24.1028 19.4033 23.6957 21.1849 23.1557V23.1771Z" fill="#${isActivated ? "101010" : "E1E1E1"}"/>
    <path d="M12.7135 16.3929C12.5492 16.0586 12.3892 15.7243 12.2465 15.39L12.4108 15.7757C12.2725 15.4286 12.0476 14.8543 11.8011 14.1386C11.3038 12.6943 11.2606 12.2786 10.8108 11.9957C10.2962 11.6743 9.58273 11.7471 9.0811 11.9957C8.96002 12.0557 8.4411 12.3086 8.21624 12.8529C7.9784 13.4271 8.24651 13.89 8.72651 15.15C9.53948 17.2886 9.58273 17.3786 9.91137 18.0257C10.2919 18.78 11.4335 19.0586 12.1384 18.6086C12.5492 18.3471 12.7568 17.9486 12.8 17.8457C13.0941 17.1386 12.7654 16.4871 12.7135 16.3886V16.3929Z" fill="#${isActivated ? "101010" : "E1E1E1"}"/>
    <path d="M25.3578 11.8071C24.8994 10.6457 24.5319 9.45854 24.2378 8.25426C24.1384 7.86854 23.8356 7.4914 23.4897 7.28569C23.1438 7.07997 22.6205 6.99426 22.2313 7.12283C21.3621 7.4014 20.8821 8.23283 21.0897 9.11569C21.3838 10.32 21.7513 11.5157 22.2097 12.6685C22.374 13.0757 22.5686 13.41 22.9578 13.6371C23.3038 13.8428 23.827 13.9285 24.2162 13.8C24.6054 13.6714 24.9859 13.4357 25.1935 13.0585C25.4011 12.6814 25.5178 12.21 25.3578 11.8114V11.8071Z" fill="#${isActivated ? "101010" : "E1E1E1"}"/>
    <path d="M13.254 31.1014C13.5351 26.3743 14.6032 21.6814 16.4065 17.2971C17.0594 15.7157 17.8724 14.0871 19.3384 13.1828C20.4367 12.5057 21.7816 12.3214 23.0746 12.42C24.3675 12.5186 25.6173 12.8486 26.8757 13.1614C32.3416 14.4857 38.1319 15.1543 42.9319 18.06C43.1048 18.1671 43.2908 18.2743 43.3989 18.4457C43.5502 18.6814 43.5502 18.9728 43.5416 19.2514C43.4854 21.5014 43.4335 23.7728 42.7589 25.9286C41.8897 28.6971 40.0302 31.1185 39.4551 33.96C39.2043 35.2071 39.1611 36.6214 38.2919 37.5557C38.1492 37.7057 37.9892 37.8471 37.7816 37.89C37.587 37.9328 37.3924 37.89 37.2065 37.8257C35.4811 37.3414 33.8162 36.6514 32.1211 36.0471C26.2962 33.99 20.1254 33.0343 14.3567 30.8486" fill="white"/>
    <path d="M46.7675 13.29C46.8151 12.8143 46.7848 12.3514 46.547 12.06C46.4043 11.7471 46.1578 11.4943 45.8854 11.28C45.2757 10.8 44.5578 10.5857 43.814 10.3971C43.027 10.1957 42.227 10.0457 41.427 9.91284C39.9005 9.6557 38.387 9.33855 36.8778 8.99141C36.2292 8.84141 35.5848 8.69141 34.9362 8.55427C30.1881 7.54284 25.3665 6.23998 20.7524 4.71427C19.4551 4.2857 18.1578 4.71427 17.7254 6.42856C16.7567 10.2643 16.2075 12.0686 15.1308 15.8571C13.7167 20.8843 12.5362 25.2857 11.5416 30.8786C11.4032 31.6671 11.6713 32.5714 12.6919 32.8928C17.1762 34.2943 21.747 35.1686 25.9286 36.1671C26.56 36.3171 26.8757 36.4457 27.4205 36.6043C28.0475 36.7886 35.5157 38.4857 37.6129 39.0043C39.3427 39.4328 40.3329 39.0557 40.64 38.1471C42.2097 33.4843 43.2346 29.1 44.3459 24.3171C44.5578 23.4 44.774 22.4871 44.9816 21.57C45.0897 21.09 45.2021 20.6143 45.3146 20.1386C45.414 19.7143 45.6389 19.1828 45.6389 18.75C46.0627 16.9457 46.547 15.1457 46.7546 13.2986L46.7675 13.29ZM39.8184 29.58C39.3038 31.5386 38.7892 33.4971 38.2789 35.4557C38.1621 35.9057 38.0584 36.09 37.6216 36C37.0119 35.8757 34.7589 35.31 34.1621 35.1428C29.4313 33.8143 27.5848 33.3857 22.4865 32.1428C21.9459 32.01 20.1989 31.4914 19.6584 31.3586C18.8973 31.1657 18.1362 30.9686 17.3751 30.7628C16.8562 30.6214 16.333 30.51 15.814 30.3728C15.5373 30.3 15.2346 30.2443 14.9708 30.1328C14.4951 29.9314 14.7978 29.31 14.8886 28.9586C15.0443 28.3543 15.1957 27.7457 15.3513 27.1414C15.974 24.6943 16.6313 22.2557 17.293 19.8214C17.6259 18.6043 17.9113 17.3486 18.3611 16.17C18.387 16.0971 23.0875 17.4128 23.5243 17.5286C26.2962 18.2571 29.0681 18.5614 31.8443 19.2771C31.9351 19.3028 32.0302 19.3243 32.1211 19.35C35.2994 20.1686 38.7502 20.6914 41.9416 21.4414C42.0194 21.4586 40.6659 26.3614 39.814 29.5928L39.8184 29.58Z" fill="#${isActivated ? "101010" : "E1E1E1"}"/>
    <path d="M27.9222 9.74999C27.9438 9.34284 27.987 8.92284 28.0432 8.51141L27.987 8.93999C28.0259 8.66141 28.0692 8.38284 28.1167 8.10856C28.1686 7.82999 28.2162 7.59856 28.2508 7.44856C28.2724 7.36284 28.2854 7.29856 28.2897 7.28141C28.6659 5.67856 28.8562 4.88141 28.5405 4.2857C28.294 3.81856 27.7708 3.48427 27.2432 3.42856C26.5686 3.35999 26.0584 3.76284 25.9459 3.85713C25.3665 4.3457 25.4184 4.92856 25.107 6.63856C24.7178 8.78141 24.7222 8.96141 24.6746 9.74141C24.6184 10.5814 25.4659 11.3871 26.3049 11.3571C26.8454 11.3357 27.2692 11.0357 27.3643 10.95C27.8919 10.4871 27.9222 9.85713 27.9222 9.74999Z" fill="#${isActivated ? "101010" : "E1E1E1"}"/>
    <path d="M41.1762 12.0943C41.3708 10.8686 41.6432 9.65142 42.0108 8.45571C42.1319 8.05713 42.0541 7.55999 41.8465 7.20856C41.6519 6.87428 41.2584 6.55285 40.8692 6.46713C39.9914 6.27428 39.1308 6.72428 38.8584 7.59856C38.4995 8.79428 38.2184 9.99856 38.0238 11.2371C37.9589 11.4514 37.9459 11.6657 37.9892 11.8843C37.9892 12.0986 38.067 12.3043 38.1838 12.4886C38.3784 12.8228 38.7719 13.1443 39.1611 13.23C39.5719 13.3286 40.0389 13.3071 40.4195 13.0671C40.7568 12.8528 41.1027 12.5057 41.1676 12.0986L41.1762 12.0943Z" fill="#${isActivated ? "101010" : "E1E1E1"}"/>
    <path d="M22.1362 26.0314C22.4519 26.16 22.7978 26.2328 23.1351 26.3057C26.3957 27 29.6259 27.8271 32.8173 28.7871C33.4616 28.98 34.1535 29.1771 34.7892 28.9543C35.2519 28.7914 35.6238 28.4057 35.7665 27.9385C35.9092 27.4714 35.814 26.9443 35.52 26.5585C35.1005 26.0057 34.374 25.7957 33.6994 25.6157C30.707 24.8314 27.7146 24.0428 24.7221 23.2585C24.0043 23.07 23.2605 22.8814 22.534 23.0228C21.2497 23.2714 20.4411 24.9343 21.6865 25.7957C21.8292 25.8943 21.9805 25.9714 22.1405 26.0357L22.1362 26.0314Z" fill="#${isActivated ? "101010" : "E1E1E1"}"/>
  </g>
</g>
  <defs>
  <clipPath id="clip0_231_2091">
    <rect width="48" height="48" fill="white"/>
  </clipPath>
  </defs>
</svg>
''';
  return SvgPicture.string(svgString, width: 48, height: 48);
}

final tabList = [
  RoutePaths.home,
  RoutePaths.between,
  RoutePaths.mailList,
  RoutePaths.all,
];

class NavbarLayout extends StatelessWidget {
  final Widget child;
  final String? routePath;

  const NavbarLayout({Key? key, required this.child, required this.routePath})
      : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      body: child,
      bottomNavigationBar: BottomNavigationBar(
        currentIndex: routePath != null ? tabList.indexOf(routePath!) : 0,
        showSelectedLabels: false,
        showUnselectedLabels: false,
        type: BottomNavigationBarType.fixed,
        onTap: (index) {
          HapticFeedback.lightImpact();
          context.go(tabList[index]);
        },
        items: [
          //TODO: activated 됐을때 stack으로 추가
          BottomNavigationBarItem(
            icon: SvgPicture.asset(
              'assets/images/navbar/home.svg',
              width: 48,
              height: 48,
            ),
            activeIcon: SvgPicture.asset(
              'assets/images/navbar/home.svg',
              width: 48,
              height: 48,
              color: ColorConstants.darkGray,
            ),
            label: '',
          ),
          BottomNavigationBarItem(
            icon: SvgPicture.asset(
              'assets/images/navbar/between.svg',
              width: 48,
              height: 48,
            ),
            activeIcon: SvgPicture.asset(
              'assets/images/navbar/between.svg',
              width: 48,
              height: 48,
              color: ColorConstants.darkGray,
            ),
            label: '',
          ),
          BottomNavigationBarItem(
            icon: getMailListIcon(false),
            activeIcon: getMailListIcon(true),
            label: '',
          ),
          BottomNavigationBarItem(
            icon: getSettingIcon(false),
            activeIcon: getSettingIcon(true),
            label: '',
          ),
        ],
      ),
    );
  }
}
